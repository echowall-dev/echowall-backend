{
  "name": "Account",
  "base": "User",
  "idInjection": true,
  "options": {
    "validateUpsert": true
  },
  "mixins": {
    "TimeStamp": true
  },
  "properties": {
    "uuid": {
      "type": "string",
      "defaultFn": "uuidv4"
    },
    "firstName": {
      "type": "string",
      "required": true
    },
    "lastName": {
      "type": "string",
      "required": true
    },
    "gender": {
      "type": "string",
      "default": null
    },
    "birth": {
      "type": "date",
      "default": null
    },
    "description": {
      "type": "string",
      "default": null
    }
  },
  "validations": [],
  "relations": {
    "avatar": {
      "type": "embedsOne",
      "model": "Image",
      "property": "avatar"
    },
    "postCreate": {
      "type": "hasMany",
      "model": "Post",
      "foreignKey": "creatorId"
    },
    "postCollaborate": {
      "type": "hasMany",
      "model": "Post",
      "foreignKey": "collaboratorId",
      "through": "Collaboration",
      "keyThrough": "postId"
    },
    "bubbles": {
      "type": "hasMany",
      "model": "Bubble",
      "foreignKey": "creatorId"
    },
    "postLike": {
      "type": "hasMany",
      "model": "Post",
      "through": "Like",
      "invert": true,
      "polymorphic": "likeable"
    },
    "objectUsers": {
      "type": "hasMany",
      "model": "Account",
      "foreignKey": "subjectUserId",
      "through": "Relationship",
      "keyThrough": "objectUserId"
    },
    "subjectUsers": {
      "type": "hasMany",
      "model": "Account",
      "foreignKey": "objectUserId",
      "through": "Relationship",
      "keyThrough": "subjectUserId"
    }
  },
  "acls": [],
  "methods": {
    "prototype.postFollow": {
      "accepts": [
        {
          "arg": "amount",
          "type": "number",
          "required": false,
          "description": "The amount of posts to get"
        },
        {
          "arg": "lastFetchTime",
          "type": "date",
          "required": false,
          "description": "The time of last fetch"
        }
      ],
      "returns": [
        {
          "arg": "posts",
          "type": "array",
          "root": false,
          "description": "The posts of followee users"
        }
      ],
      "description": "Get posts of followee users",
      "http": [
        {
          "path": "/postFollow",
          "verb": "get"
        }
      ]
    }
  }
}
